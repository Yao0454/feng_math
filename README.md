# Feng Math - 高等数学解题器

Feng Math 是一个基于 Flutter 和 Python 的高等数学解题应用。它提供了一个直观的数学公式输入界面，并利用强大的 Python 后端进行符号计算，能够求解方程、积分、导数等复杂的数学问题，并提供详细的解题步骤。

## ✨ 主要功能

*   **强大的数学输入**: 自定义数学键盘，支持基础运算、代数符号、三角函数、微积分算子（积分、导数、偏导数）以及高级数学符号（矩阵、向量等）。
*   **所见即所得**: 使用 LaTeX 渲染引擎，实时预览输入的数学公式。
*   **智能求解**:
    *   **方程求解**: 支持一元一次、一元二次及更复杂的方程求解。
    *   **微积分计算**: 支持定积分、不定积分、求导、偏导数计算。
    *   **步骤详解**: 对于积分和求导问题，提供详细的中间计算步骤，帮助用户理解解题过程。
    *   **结果化简**: 自动对计算结果进行代数化简。
*   **多平台支持**: 基于 Flutter 开发，支持 Android, iOS, macOS 等平台。

## 🛠️ 技术栈

### 前端 (Flutter)
*   **UI 框架**: Flutter
*   **数学渲染**: `flutter_math_fork` (基于 KaTeX)
*   **数学输入**: `math_keyboard` (自定义键盘扩展)
*   **网络请求**: `http`

### 后端 (Python)
*   **Web 框架**: FastAPI
*   **符号计算**: `SymPy`
*   **LaTeX 解析**: `latex2sympy2`
*   **服务器**: Uvicorn

## 🚀 快速开始

### 1. 环境准备
*   Flutter SDK (>= 3.10.0)
*   Python (>= 3.8)

### 2. 启动后端服务

进入 `backend` 目录并安装依赖：

```bash
cd backend
# 建议创建虚拟环境
python -m venv venv
source venv/bin/activate  # macOS/Linux
# venv\Scripts\activate  # Windows

pip install -r requirements.txt
```

启动 FastAPI 服务器：

```bash
python main.py
```
服务器默认运行在 `http://0.0.0.0:8000`。

### 3. 启动前端应用

在项目根目录下运行 Flutter 应用：

```bash
flutter pub get
flutter run
```

**注意**:
*   如果是 Android 模拟器，应用会自动连接到 `10.0.2.2:8000`。
*   如果是 iOS 模拟器或真机，请确保手机和电脑在同一局域网，并可能需要修改 `lib/main.dart` 中的 `_backendUrl` 为你电脑的局域网 IP 地址。

## 📱 使用说明

1.  打开应用，点击输入框唤起自定义数学键盘。
2.  通过键盘顶部的标签页（基础、代数、三角、微积分、高级）切换不同的符号面板。
3.  输入你想求解的数学表达式或方程。
    *   例如输入积分：点击微积分页的 `∫dx`，然后填入被积函数。
    *   例如输入方程：直接输入 `x^2 - 4 = 0`。
4.  点击键盘右下角的 **"求解"** 按钮。
5.  等待计算完成，结果和详细步骤将显示在下方。

## 📝 待办事项

- [ ] 优化步骤显示的 LaTeX 渲染格式。
- [ ] 添加更多高级数学领域的支持（如线性代数矩阵运算步骤）。
- [ ] 支持历史记录功能。
- [ ] 离线计算模式（探索中）。

## 📄 许可证

MIT License

